(this["webpackJsonpwater-me"]=this["webpackJsonpwater-me"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(9),o=n.n(c),i=(n(16),n(17),n.p+"static/media/back.14dfcd4a.jpg"),s=n(3),l="ADD_PLANT",u="DELETE_PLANT",d="TOGGLE_FORM",j=n(10),p=n(4),b=function(e,t){switch(t.type){case l:return Object(p.a)(Object(p.a)({},e),{},{plants:[].concat(Object(j.a)(e.plants),[t.plant])});case u:var n=e.plants.filter((function(e){return e!==t.plant}));return Object(p.a)(Object(p.a)({},e),{},{plants:n});case d:return Object(p.a)(Object(p.a)({},e),{},{displayForm:!e.displayForm});default:return e}};var f=n(0),h=Object(a.createContext)([[],function(){}]),m=h.Provider,O=function(e){e.user;var t,n=e.children,r=(t={userName:"",displayForm:!1,plants:[]},Object(a.useReducer)(b,t)),c=Object(s.a)(r,2),o=c[0],i=c[1];return Object(f.jsx)(m,{value:[o,i],children:n})},v=function(){return Object(a.useContext)(h)},g=n(22),w=n(20);function x(){var e=v(),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),o=Object(s.a)(c,2),i=o[0],u=o[1],j=Object(a.useState)(null),p=Object(s.a)(j,2),b=p[0],h=p[1],m=Object(a.useState)(null),O=Object(s.a)(m,2),x=O[0],y=O[1],N=n.displayForm,k=function(e){var t=new Date;return Object(g.a)(t,{days:e})},C=function(e){var t=e.plantName,n=e.quantity,a=e.frequency,r=e.timestamp,c={error:""};return t.trim()||(c.error="Plant name required, "),n<=0&&(c.error+="Water Quantity required, "),a<=0&&(c.error+="Water Frequency required, ",c.status=!1),Object(w.a)(r)||(c.error+="Failed to generate timestamp"),c};return Object(f.jsx)("div",{className:"add",children:N?Object(f.jsxs)("form",{className:"add__container",children:[Object(f.jsx)("input",{type:"text",placeholder:"Plant name.",className:"pName",onChange:function(e){return u(e.target.value)}}),Object(f.jsx)("input",{type:"text",placeholder:"How much water?",className:"aWater",onChange:function(e){return h(parseInt(e.target.value))}}),Object(f.jsx)("input",{type:"text",placeholder:"How often?",className:"often",onChange:function(e){return y(parseInt(e.target.value))}}),Object(f.jsx)("button",{className:"add___btn",onClick:function(e){return function(e){e.preventDefault();var t=k(x),n={plantName:i,quantity:b,frequency:x,timestamp:t},a=C(n);if(a.error){var c=a.error.trim().replace(/(,$)/g,"");alert(c)}else r({type:l,plant:n}),r({type:d})}(e)},children:"add"})]}):Object(f.jsx)("div",{onClick:function(e){return function(e){e.preventDefault(),r({type:d})}(e)},children:Object(f.jsx)("span",{className:"material-icons",children:"add"})})})}var y=function(){return Object(f.jsx)("div",{className:"top",style:{backgroundImage:"url(".concat(i,")")},children:Object(f.jsxs)("div",{className:"jumbotron",children:[Object(f.jsxs)("div",{className:"title",children:[Object(f.jsx)("h1",{children:" Water Me!"}),Object(f.jsxs)("p",{children:["Add your plants to your profile page along with the amount",Object(f.jsx)("br",{}),"water each pot needs and how often you water it."]})]}),Object(f.jsx)(x,{})]})})},N=n(21);function k(e){var t=e.plantName,n=e.quantity,r=e.timestamp,c=v(),o=Object(s.a)(c,2),i=o[0],l=o[1],d=i.plants.filter((function(e){return Object.values(e).includes(t)})).pop();Object(a.useEffect)((function(){Object(N.a)(r)&&console.log("time to water",r)}),[]);return Object(f.jsxs)("div",{className:"plant__clearfix",id:1,children:[Object(f.jsx)("button",{className:"water",onClick:function(){console.log("plant has been watered!")},children:"water"}),Object(f.jsx)("button",{onClick:function(e){l({type:u,plant:d})},children:"X"}),Object(f.jsxs)("div",{children:[" ",t," "]}),Object(f.jsxs)("div",{children:[" ",n," cups "]}),Object(f.jsx)("img",{src:"https://picsum.photos/100/50"})]})}function C(){var e=v(),t=Object(s.a)(e,2),n=t[0],r=(t[1],n.plants);return Object(f.jsx)("div",{className:"bottom",children:Object(f.jsx)("div",{className:"plant__container",children:r.length?r.map((function(e,t){return Object(a.createElement)(k,Object(p.a)(Object(p.a)({},e),{},{key:t}))})):""})})}var F=function(){return Object(f.jsx)(r.a.Fragment,{children:Object(f.jsxs)(O,{children:[Object(f.jsx)(y,{}),Object(f.jsx)(C,{})]})})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},_=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(F,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/water-me-two",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/water-me-two","/service-worker.js");_?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):q(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):q(t,e)}))}}(),W()}},[[19,1,2]]]);
//# sourceMappingURL=main.3cec2ffc.chunk.js.map